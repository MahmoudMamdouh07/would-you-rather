{"ast":null,"code":"import { getInitialData } from \"../utils/api\";\nimport { receiveUsers } from \"../actions/users\";\nimport { receiveQuestions } from \"../actions/questions\";\nimport { setAuthedUser } from \"../actions/authedUser\";\nimport { showLoading, hideLoading } from \"react-redux-loading\";\nlet userId = \"\";\nexport function handleInitialData() {\n  return (dispatch, getState) => {\n    const {\n      authedUser\n    } = getState();\n    return getInitialData().then(({\n      users,\n      questions\n    }) => {\n      userId = authedUser ? authedUser : \"\";\n      dispatch(showLoading());\n      dispatch(receiveUsers(users));\n      dispatch(receiveQuestions(questions));\n      dispatch(setAuthedUser(userId));\n      dispatch(hideLoading());\n    });\n  };\n}","map":{"version":3,"sources":["C:/Users/mahmo/would-you-rather/src/actions/shared.js"],"names":["getInitialData","receiveUsers","receiveQuestions","setAuthedUser","showLoading","hideLoading","userId","handleInitialData","dispatch","getState","authedUser","then","users","questions"],"mappings":"AAAA,SAASA,cAAT,QAA+B,cAA/B;AACA,SAASC,YAAT,QAA6B,kBAA7B;AACA,SAASC,gBAAT,QAAiC,sBAAjC;AACA,SAASC,aAAT,QAA8B,uBAA9B;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,qBAAzC;AAEA,IAAIC,MAAM,GAAG,EAAb;AACA,OAAO,SAASC,iBAAT,GAA6B;AAClC,SAAO,CAACC,QAAD,EAAWC,QAAX,KAAwB;AAC7B,UAAM;AAAEC,MAAAA;AAAF,QAAiBD,QAAQ,EAA/B;AACA,WAAOT,cAAc,GAAGW,IAAjB,CAAsB,CAAC;AAAEC,MAAAA,KAAF;AAASC,MAAAA;AAAT,KAAD,KAA0B;AACrDP,MAAAA,MAAM,GAAGI,UAAU,GAAGA,UAAH,GAAgB,EAAnC;AACAF,MAAAA,QAAQ,CAACJ,WAAW,EAAZ,CAAR;AACAI,MAAAA,QAAQ,CAACP,YAAY,CAACW,KAAD,CAAb,CAAR;AACAJ,MAAAA,QAAQ,CAACN,gBAAgB,CAACW,SAAD,CAAjB,CAAR;AACAL,MAAAA,QAAQ,CAACL,aAAa,CAACG,MAAD,CAAd,CAAR;AACAE,MAAAA,QAAQ,CAACH,WAAW,EAAZ,CAAR;AACD,KAPM,CAAP;AAQD,GAVD;AAWD","sourcesContent":["import { getInitialData } from \"../utils/api\";\r\nimport { receiveUsers } from \"../actions/users\";\r\nimport { receiveQuestions } from \"../actions/questions\";\r\nimport { setAuthedUser } from \"../actions/authedUser\";\r\nimport { showLoading, hideLoading } from \"react-redux-loading\";\r\n\r\nlet userId = \"\";\r\nexport function handleInitialData() {\r\n  return (dispatch, getState) => {\r\n    const { authedUser } = getState();\r\n    return getInitialData().then(({ users, questions }) => {\r\n      userId = authedUser ? authedUser : \"\";\r\n      dispatch(showLoading());\r\n      dispatch(receiveUsers(users));\r\n      dispatch(receiveQuestions(questions));\r\n      dispatch(setAuthedUser(userId));\r\n      dispatch(hideLoading());\r\n    });\r\n  };\r\n}\r\n"]},"metadata":{},"sourceType":"module"}